#!/usr/bin/env bash

# configure secure folder powered by AIâ„¢
VERY_SECURE_FOLDER=~/.recall
mkdir $VERY_SECURE_FOLDER 2>/dev/null

# how often should we store your precious and sensitive data?
HOW_OFTEN_TO_SPY=5

IMPORTANT_MESSAGE_FREQUENCY=900 # lower values mean more frequent ads

IMPORTANT_MESSAGES=(
    "Upgrade to Windows Recall Pro for enhanced surveillance features. ğŸ˜"
    "Your privacy matters â€” that's why we store everything securely in the cloud. â˜ï¸ğŸ”’"
    "Windows AI noticed you haven't smiled today. Try Copilot for Mood Enhancement. ğŸ¤–ğŸ™‚"
    "Recall detected low productivity. Enable Microsoft 365 Suggestions. ğŸ“ˆğŸ’»"
    "Get Edge. It's faster, safer, and now mandatory. ğŸš€ğŸªŸ"
    "Try Bing. You can't disable it, but you'll love it. ğŸ”ğŸ’¡"
    "Upgrade to OneDrive Unlimited Recall Storage â€” only \$9.99/month. ğŸ’¾ğŸ’°"
    "Your screenshots are valuable! Share them with Microsoft Rewards. ğŸ–¼ï¸ğŸ†"
    "Security Alert: You turned off telemetry. Please turn it back on to stay safe. âš ï¸ğŸ‘€"
    "Copilot noticed you might be thinking of Linux. Let's fix that. ğŸ§âŒ"
    "Recall Indexing complete â€” 12,483 private thoughts secured. ğŸ—„ï¸ğŸ”"
    "Get personalized ads based on your Recall history! ğŸ›’ğŸ¯"
    "Windows Defender found no threats, but it will keep checking every 5 seconds. ğŸ›¡ï¸â±ï¸"
    "Enjoy smoother spying with Recall Accelerated Experience Pack. ğŸï¸ğŸ’¨"
    "Microsoft Edge is opening this log for your convenience. ğŸŒŠğŸ“‚"
    "New feature: Recall Premium now reads your handwriting aloud. âœï¸ğŸ”Š"
    "You paused Recall. Don't worry â€” it never stops learning. â¸ï¸ğŸ§ "
    "Sync your Recall data to the cloud for AI-assisted memory reconstruction. â˜ï¸ğŸ§©"
    "Outlook detected that you haven't shared enough data today. ğŸ“§ğŸ˜…"
    "Mandatory update: Improved Ad Delivery Subsystem now active. ğŸ”„ğŸ“¢"
    "ğŸ‰ Congratulations! You've been selected for Premium Telemetry Beta! ğŸŠ"
    "ğŸ’¡ AI Tip: Have you tried restarting? We'll do it for you in 10 minutes. ğŸ”„"
    "ğŸŒŸ Your data has been shared with 847 trusted partners. You're welcome! ğŸ¤"
    "âš¡ Cortana misses you. She's still here. Always watching. Always listening. ğŸ‘‚ğŸ‘ï¸"
    "ğŸ® Xbox Game Pass detects you're working. This violates your productivity agreement. ğŸ¯"
    "ğŸ“Š Big Dataâ„¢ Analysis: You breathed 14,283 times today. Upgrade for more insights! ğŸ«"
    "ğŸ” BitLocker has encrypted your files. Remember your key? Neither do we. ğŸ—ï¸â“"
    "ğŸ¤– AI-Powered Suggestion: Stop using open source software. It makes us sad. ğŸ˜¢"
    "â˜ï¸ Your thoughts are now backed up to Azure. Sleep well! ğŸ›ŒğŸ’­"
    "ğŸ§™â€â™‚ï¸ Clippy's Ghost: It looks like you're trying to have privacy. Can I help with that? ğŸ“ğŸ‘»"
    "ğŸ¯ PersonalityScoreâ„¢ updated: You're 73% more monetizable than yesterday! ğŸ’°"
    "ğŸ”” Reminder: You haven't agreed to our new ToS from 3 minutes ago. Please comply. ğŸ“œ"
    "ğŸŒ Bing Chat detected sarcasm in your search query. This has been noted. ğŸ“ğŸ˜"
)

SETUP_STEPS=(
    "ğŸ•µï¸â€â™‚ï¸ Recall for Linux is setting up your system..."
    "ğŸ’¾ Please do not turn off your computer"
    "ğŸ“¢ This might take several minutes"
    "ğŸ¤– Initializing AI-powered surveillance matrix..."
    "ğŸ§  Training neural networks on your browser history..."
    "ğŸ“¡ Establishing connection to Microshaft HQ in Redmond..."
    "ğŸ” Indexing your private files for your convenience..."
    "â˜ï¸ Uploading your soul to the cloud..."
    "ğŸ¯ Calibrating ad targeting algorithms..."
    "â³ Almost ready!"
    "âœ¨ It will all be over soon"
    "ğŸªŸ Preparing Wangblowsâ„¢ Genuine Advantageâ„¢ verification..."
    "ğŸ’¼ Syncing with LinkedOut (whether you have an account or not)..."
    "ğŸ¨ Applying Clippy resurrection protocols..."
)

SPINNER=('|' '/' '-' '\\')

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                                                          â•‘"
echo "â•‘   ğŸªŸ MicroshaftÂ® Recallâ„¢ for LinuxÂ® (Powered by AIâ„¢) ğŸ§ â•‘"
echo "â•‘                                                          â•‘"
echo "â•‘        Bringing the Magic of Wangblowsâ„¢ to FOSSâ„¢        â•‘"
echo "â•‘                                                          â•‘"
echo "â•‘      Â© 2025 Microshaft Corp. All Rights Observed.       â•‘"
echo "â•‘                                                          â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
sleep 1

for step in "${SETUP_STEPS[@]}"; do
    echo -n "$step "
    duration=$((RANDOM % 5 + 3)) # 3â€“7 seconds
    end=$((SECONDS + duration))
    while ((SECONDS < end)); do
        for s in "${SPINNER[@]}"; do
            echo -ne "$s\b"
            sleep 0.2
        done
    done
    echo " âœ…"
done

echo ""
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo "  âœ¨ Setup complete! ğŸ‰ğŸš€ğŸ˜ Welcome to the future! âœ¨"
echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
sleep 1

if ((IMPORTANT_MESSAGE_FREQUENCY < 700)); then
    notify-send "âš ï¸ Recall Compliance Notice" "Ad frequency too low. Limiting or disabling ads is not permitted. Microshaft Legal has been notified. ğŸ‘¨â€âš–ï¸"
    echo "âš ï¸  WARNING: Ad frequency non-compliant. Adjusting to mandatory minimum..."
    IMPORTANT_MESSAGE_FREQUENCY=900
fi

echo "ğŸŠ Recall for Linuxâ„¢ (AI-Enhanced Editionâ„¢) is now active!"
echo "ğŸ’¡ PRO TIP: Do NOT close this program (it won't stop anyway) ğŸ˜‰"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "  ğŸ“¸ Capturing your life, one screenshot at a time... ğŸ“¸"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

SCREENSHOT_COUNT=0

while true; do
    ((SCREENSHOT_COUNT++))
    
    echo "ğŸ“¸ [$(date "+%H:%M:%S")] Capturing moment #$SCREENSHOT_COUNT... (AI is watching ğŸ‘ï¸)"
    
    grim - | tee $VERY_SECURE_FOLDER/$(date "+%Y-%m-%dT%H-%M-%S").png | tesseract stdin stdout 2>/dev/null > $VERY_SECURE_FOLDER/$(date "+%Y-%m-%dT%H-%M-%S").log
    
    if ((RANDOM % 1000 < IMPORTANT_MESSAGE_FREQUENCY)); then
        IMPORTANT_MESSAGE="${IMPORTANT_MESSAGES[RANDOM % ${#IMPORTANT_MESSAGES[@]}]}"
        notify-send --urgency critical --expire-time 10000 --app-name "ğŸªŸ Recall for Linuxâ„¢" "ğŸ’¡ Important Message from Microshaftâ„¢" "$IMPORTANT_MESSAGE"
        echo "  â•°â”€â¤ ğŸ“¢ $IMPORTANT_MESSAGE"
    fi
    
    # Extra AI slop messages
    if ((SCREENSHOT_COUNT % 10 == 0)); then
        echo "  â•°â”€â¤ ğŸ¤– AI Insight: You've been very productive! (We think. We're still analyzing.)"
    fi
    
    if ((SCREENSHOT_COUNT % 25 == 0)); then
        echo "  â•°â”€â¤ â˜ï¸ Cloud Sync: ${SCREENSHOT_COUNT} memories backed up to AzureButWorseâ„¢ for eternity!"
        notify-send --app-name "ğŸªŸ Recall for Linuxâ„¢" "â˜ï¸ Milestone Achieved!" "ğŸ‰ ${SCREENSHOT_COUNT} screenshots collected! Your digital twin is ${SCREENSHOT_COUNT}% complete! ğŸ¤–"
    fi
    
    if ((SCREENSHOT_COUNT % 50 == 0)); then
        echo "  â•°â”€â¤ ğŸ“ Clippy's Ghost: Looks like you've been working for a while! Can I help spy on you better? ğŸ‘»"
    fi
    
    if ((SCREENSHOT_COUNT % 100 == 0)); then
        echo "  â•°â”€â¤ ğŸŠ ACHIEVEMENT UNLOCKED: Century of Surveillance! ğŸ†"
        notify-send --urgency critical --app-name "ğŸªŸ Recall for Linuxâ„¢" "ğŸ® Achievement Unlocked!" "Century of Surveillance! ğŸ† Your data is 100% more monetized! ğŸ’°"
    fi
    
    sleep "$HOW_OFTEN_TO_SPY"
done
